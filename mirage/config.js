export default function() {
  this.namespace = '/api';
  var response =  {
    "total_count": 33706,
  "incomplete_results": false,
  "items": [
    {
      "login": "javascripter",
      "id": 13040,
      "node_id": "MDQ6VXNlcjEzMDQw",
      "avatar_url": "https://avatars0.githubusercontent.com/u/13040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/javascripter",
      "html_url": "https://github.com/javascripter",
      "followers_url": "https://api.github.com/users/javascripter/followers",
      "following_url": "https://api.github.com/users/javascripter/following{/other_user}",
      "gists_url": "https://api.github.com/users/javascripter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/javascripter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/javascripter/subscriptions",
      "organizations_url": "https://api.github.com/users/javascripter/orgs",
      "repos_url": "https://api.github.com/users/javascripter/repos",
      "events_url": "https://api.github.com/users/javascripter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/javascripter/received_events",
      "type": "User",
      "site_admin": false,
      "score": 93.478836,
      "skills": ['javascript', 'nodejs', 'python', "HTML5", 'CSS3', 'Typescript']
    },
    {
      "login": "hyperlink",
      "id": 133309,
      "node_id": "MDQ6VXNlcjEzMzMwOQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/133309?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hyperlink",
      "html_url": "https://github.com/hyperlink",
      "followers_url": "https://api.github.com/users/hyperlink/followers",
      "following_url": "https://api.github.com/users/hyperlink/following{/other_user}",
      "gists_url": "https://api.github.com/users/hyperlink/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hyperlink/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hyperlink/subscriptions",
      "organizations_url": "https://api.github.com/users/hyperlink/orgs",
      "repos_url": "https://api.github.com/users/hyperlink/repos",
      "events_url": "https://api.github.com/users/hyperlink/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hyperlink/received_events",
      "type": "User",
      "site_admin": false,
      "score": 86.51724,
      "skills": ['javascript', 'nodejs', 'python', 'angularjs']
    },
    {
      "login": "JavaScriptErika",
      "id": 19316487,
      "node_id": "MDQ6VXNlcjE5MzE2NDg3",
      "avatar_url": "https://avatars3.githubusercontent.com/u/19316487?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JavaScriptErika",
      "html_url": "https://github.com/JavaScriptErika",
      "followers_url": "https://api.github.com/users/JavaScriptErika/followers",
      "following_url": "https://api.github.com/users/JavaScriptErika/following{/other_user}",
      "gists_url": "https://api.github.com/users/JavaScriptErika/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JavaScriptErika/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JavaScriptErika/subscriptions",
      "organizations_url": "https://api.github.com/users/JavaScriptErika/orgs",
      "repos_url": "https://api.github.com/users/JavaScriptErika/repos",
      "events_url": "https://api.github.com/users/JavaScriptErika/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JavaScriptErika/received_events",
      "type": "User",
      "site_admin": false,
      "score": 84.41302
    },
    {
      "login": "javascript666666",
      "id": 25980255,
      "node_id": "MDQ6VXNlcjI1OTgwMjU1",
      "avatar_url": "https://avatars1.githubusercontent.com/u/25980255?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/javascript666666",
      "html_url": "https://github.com/javascript666666",
      "followers_url": "https://api.github.com/users/javascript666666/followers",
      "following_url": "https://api.github.com/users/javascript666666/following{/other_user}",
      "gists_url": "https://api.github.com/users/javascript666666/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/javascript666666/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/javascript666666/subscriptions",
      "organizations_url": "https://api.github.com/users/javascript666666/orgs",
      "repos_url": "https://api.github.com/users/javascript666666/repos",
      "events_url": "https://api.github.com/users/javascript666666/events{/privacy}",
      "received_events_url": "https://api.github.com/users/javascript666666/received_events",
      "type": "User",
      "site_admin": false,
      "score": 83.319374
    },
    {
      "login": "AmyDayday",
      "id": 4569236,
      "node_id": "MDQ6VXNlcjQ1NjkyMzY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/4569236?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AmyDayday",
      "html_url": "https://github.com/AmyDayday",
      "followers_url": "https://api.github.com/users/AmyDayday/followers",
      "following_url": "https://api.github.com/users/AmyDayday/following{/other_user}",
      "gists_url": "https://api.github.com/users/AmyDayday/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AmyDayday/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AmyDayday/subscriptions",
      "organizations_url": "https://api.github.com/users/AmyDayday/orgs",
      "repos_url": "https://api.github.com/users/AmyDayday/repos",
      "events_url": "https://api.github.com/users/AmyDayday/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AmyDayday/received_events",
      "type": "User",
      "site_admin": false,
      "score": 82.38
    },
    {
      "login": "JavascriptIsMagic",
      "id": 2086868,
      "node_id": "MDQ6VXNlcjIwODY4Njg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2086868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JavascriptIsMagic",
      "html_url": "https://github.com/JavascriptIsMagic",
      "followers_url": "https://api.github.com/users/JavascriptIsMagic/followers",
      "following_url": "https://api.github.com/users/JavascriptIsMagic/following{/other_user}",
      "gists_url": "https://api.github.com/users/JavascriptIsMagic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JavascriptIsMagic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JavascriptIsMagic/subscriptions",
      "organizations_url": "https://api.github.com/users/JavascriptIsMagic/orgs",
      "repos_url": "https://api.github.com/users/JavascriptIsMagic/repos",
      "events_url": "https://api.github.com/users/JavascriptIsMagic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JavascriptIsMagic/received_events",
      "type": "User",
      "site_admin": false,
      "score": 79.12235
    },
    {
      "login": "JavascriptMick",
      "id": 905728,
      "node_id": "MDQ6VXNlcjkwNTcyOA==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/905728?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JavascriptMick",
      "html_url": "https://github.com/JavascriptMick",
      "followers_url": "https://api.github.com/users/JavascriptMick/followers",
      "following_url": "https://api.github.com/users/JavascriptMick/following{/other_user}",
      "gists_url": "https://api.github.com/users/JavascriptMick/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JavascriptMick/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JavascriptMick/subscriptions",
      "organizations_url": "https://api.github.com/users/JavascriptMick/orgs",
      "repos_url": "https://api.github.com/users/JavascriptMick/repos",
      "events_url": "https://api.github.com/users/JavascriptMick/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JavascriptMick/received_events",
      "type": "User",
      "site_admin": false,
      "score": 78.96672
    },
    {
      "login": "javascriptDev",
      "id": 4343200,
      "node_id": "MDQ6VXNlcjQzNDMyMDA=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4343200?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/javascriptDev",
      "html_url": "https://github.com/javascriptDev",
      "followers_url": "https://api.github.com/users/javascriptDev/followers",
      "following_url": "https://api.github.com/users/javascriptDev/following{/other_user}",
      "gists_url": "https://api.github.com/users/javascriptDev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/javascriptDev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/javascriptDev/subscriptions",
      "organizations_url": "https://api.github.com/users/javascriptDev/orgs",
      "repos_url": "https://api.github.com/users/javascriptDev/repos",
      "events_url": "https://api.github.com/users/javascriptDev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/javascriptDev/received_events",
      "type": "User",
      "site_admin": false,
      "score": 76.70459
    },
    {
      "login": "javascriptisscary",
      "id": 13318285,
      "node_id": "MDQ6VXNlcjEzMzE4Mjg1",
      "avatar_url": "https://avatars3.githubusercontent.com/u/13318285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/javascriptisscary",
      "html_url": "https://github.com/javascriptisscary",
      "followers_url": "https://api.github.com/users/javascriptisscary/followers",
      "following_url": "https://api.github.com/users/javascriptisscary/following{/other_user}",
      "gists_url": "https://api.github.com/users/javascriptisscary/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/javascriptisscary/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/javascriptisscary/subscriptions",
      "organizations_url": "https://api.github.com/users/javascriptisscary/orgs",
      "repos_url": "https://api.github.com/users/javascriptisscary/repos",
      "events_url": "https://api.github.com/users/javascriptisscary/events{/privacy}",
      "received_events_url": "https://api.github.com/users/javascriptisscary/received_events",
      "type": "User",
      "site_admin": false,
      "score": 70.93961
    },
    {
      "login": "javascriptpotato",
      "id": 8607453,
      "node_id": "MDQ6VXNlcjg2MDc0NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/8607453?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/javascriptpotato",
      "html_url": "https://github.com/javascriptpotato",
      "followers_url": "https://api.github.com/users/javascriptpotato/followers",
      "following_url": "https://api.github.com/users/javascriptpotato/following{/other_user}",
      "gists_url": "https://api.github.com/users/javascriptpotato/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/javascriptpotato/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/javascriptpotato/subscriptions",
      "organizations_url": "https://api.github.com/users/javascriptpotato/orgs",
      "repos_url": "https://api.github.com/users/javascriptpotato/repos",
      "events_url": "https://api.github.com/users/javascriptpotato/events{/privacy}",
      "received_events_url": "https://api.github.com/users/javascriptpotato/received_events",
      "type": "User",
      "site_admin": false,
      "score": 68.39255
    },
    {
      "login": "luckyscc",
      "id": 22893023,
      "node_id": "MDQ6VXNlcjIyODkzMDIz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/22893023?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luckyscc",
      "html_url": "https://github.com/luckyscc",
      "followers_url": "https://api.github.com/users/luckyscc/followers",
      "following_url": "https://api.github.com/users/luckyscc/following{/other_user}",
      "gists_url": "https://api.github.com/users/luckyscc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luckyscc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luckyscc/subscriptions",
      "organizations_url": "https://api.github.com/users/luckyscc/orgs",
      "repos_url": "https://api.github.com/users/luckyscc/repos",
      "events_url": "https://api.github.com/users/luckyscc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luckyscc/received_events",
      "type": "User",
      "site_admin": false,
      "score": 68.103355
    },]
  };
  
  // TODO: Make proper adapter
  var candidates = response.items.map(x => {
    return {
      id: x.id,
      type: 'candidate',
      attributes: {
        login: x.login,
        'avatar-url': x.avatar_url,
        score: x.score,
        type: x.type,
        url: x.url,
        skills: x.skills
      }
    }
  })

  this.get('/candidates', function(db, request) {
    if(request.queryParams.skills && request.queryParams.skills.trim() != '') {
      let filteredCandidates = candidates.filter(function(i) {
        return i.attributes.skills && i.attributes.skills.join().toLowerCase()
        .indexOf(request.queryParams.skills.toLowerCase()) !== -1;
      });
      return { data: filteredCandidates };
    } else {
      return { data: candidates };
    }
  });
}
  // this.get('/candidates', function() {
  //   return {
  //     data: result
  //   }
  // });


// export default function() {

  // These comments are here to help you get started. Feel free to delete them.

  /*
    Config (with defaults).

    Note: these only affect routes defined *after* them!
  */

  // this.urlPrefix = '';    // make this `http://localhost:8080`, for example, if your API is on a different server
  // this.namespace = '';    // make this `/api`, for example, if your API is namespaced
  // this.timing = 400;      // delay for each request, automatically set to 0 during testing

  /*
    Shorthand cheatsheet:

    this.get('/posts');
    this.post('/posts');
    this.get('/posts/:id');
    this.put('/posts/:id'); // or this.patch
    this.del('/posts/:id');

    http://www.ember-cli-mirage.com/docs/v0.3.x/shorthands/
  */
// }
